{"version":3,"file":"static/js/490.2c7c16e0.chunk.js","mappings":"uPAQMA,EAAOC,EAAAA,GAAAA,IAAD,qJAQNC,EAAMD,EAAAA,GAAAA,GAAD,mEAKLE,EAAO,CACXC,SAAS,CACPC,KAAK,GAEPC,WAAW,CACTD,KAAK,KAGHE,EAAW,CACfD,WAAW,CACTE,OAAO,EACPH,KAAK,KAGHI,GAAUC,EAAAA,EAAAA,KAAS,WACrB,IAAOC,GAAYC,EAAAA,EAAAA,KAAZD,UACDE,GAAQC,EAAAA,EAAAA,MAoBd,OACI,UAACd,EAAD,YACE,SAACE,EAAD,4BACA,UAAC,KAAD,kBACKC,GADL,IAECY,KAAK,QACLC,SAxBQ,SAAAC,GACXC,QAAQC,IAAI,WAAWF,GACvBN,EAAUS,YAAYH,EAAOI,UAC7BV,EAAUW,YAAYL,EAAOM,UAC7BZ,EAAUa,QACTC,MAAK,WACFP,QAAQC,IAAI,2DACZN,EAAQ,IACX,GACJ,EAgBMa,eAfc,SAAAC,GACjBT,QAAQC,IAAI,UAAUQ,EACzB,EASK,WAMA,SAAC,SAAD,CACAC,MAAM,qBACNb,KAAK,WACLc,MAAO,CACL,CACGC,UAAS,EACTC,QAAQ,kCAEX,CACIC,UAvBW,SAACC,EAAKC,GAC3B,MAAG,KAAKC,KAAKD,GAAeE,QAAQC,OAAO,gEACxCH,EAAMI,OAAO,GAAGJ,EAAMI,OAAO,GAAWF,QAAQC,OAAO,4CACnDD,QAAQG,SAChB,IAUK,UAaA,SAAC,IAAD,OAEA,SAAC,SAAD,CACAX,MAAM,eACNb,KAAK,WACLc,MAAO,CACL,CACIC,UAAU,EACVC,QAAS,4BAEb,CACGS,IAAI,EACJT,QAAQ,mCAEX,CACIU,IAAI,GACJV,QAAQ,qCAdd,UAkBA,SAAC,aAAD,OAEA,SAAC,UAAD,kBAAexB,GAAf,cACC,SAAC,IAAD,CAAQmC,KAAK,UAAUC,SAAS,SAAhC,mCAQV,IACD,W","sources":["pages/Login.js"],"sourcesContent":["import React,{useRef} from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { Form, Input,Button,Checkbox} from 'antd';\r\nimport styled from 'styled-components';\r\nimport {useStores} from '../stores';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\n\r\nconst Wraper=styled.div`\r\n  max-width:600px;\r\n  margin:30px auto;\r\n  box-shadow:2px 2px 4px 0 rgba(0,0,0,0.2);\r\n  border-radius:4px;\r\n  padding:20px;\r\n`;\r\n\r\nconst Title=styled.h1`\r\n text-align:center;\r\n margin-bottom:30px;\r\n`;\r\n\r\nconst layout={\r\n  labelCol:{\r\n    span:6,\r\n  },\r\n  wrapperCol:{\r\n    span:18,\r\n  },\r\n};\r\nconst tailLayout={\r\n  wrapperCol:{\r\n    offset:6,\r\n    span:18,\r\n  }\r\n};\r\nconst Component=observer(()=>{\r\n    const {AuthStore} =useStores();\r\n    const history=useNavigate();\r\n\r\n    const onFinish=values=>{\r\n        console.log('Success:',values);\r\n        AuthStore.setUsername(values.username);\r\n        AuthStore.setPassword(values.password);\r\n        AuthStore.login()\r\n        .then(()=>{\r\n            console.log('登录成功,跳转到首页');\r\n            history(`/`);\r\n        })\r\n    };\r\n    const onFinishFailed=errorInfo=>{\r\n        console.log('Failed:',errorInfo);\r\n    }; \r\n    const validateUsername=(rule,value)=>{\r\n      if(/\\W/.test(value)) return Promise.reject('只能是字母数字下划线');\r\n      if(value.length<4||value.length>10) return Promise.reject('长度为4~10个字符');\r\n      return Promise.resolve();\r\n    };\r\n    return(\r\n        <Wraper>\r\n          <Title>登录</Title>\r\n          <Form\r\n           {...layout}\r\n           name=\"basic\"\r\n           onFinish={onFinish}\r\n           onFinishFailed={onFinishFailed}\r\n          >\r\n          <Form.Item\r\n          label=\"用户名\"\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n               required:true,\r\n               message:'输入用户名', \r\n            },\r\n            {\r\n                validator:validateUsername\r\n            }\r\n          ]}\r\n          >\r\n          <Input/>\r\n          </Form.Item>  \r\n          <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n                required: true,\r\n                message: '输入密码',\r\n            },\r\n            {\r\n               min:4,\r\n               message:\"最少4个字符\"     \r\n            },\r\n            {\r\n                max:10,\r\n                message:'最大10个字符'\r\n            }\r\n          ]}\r\n          >\r\n          <Input.Password/>\r\n          </Form.Item>\r\n          <Form.Item {...tailLayout}>\r\n           <Button type='primary' htmlType='submit'>\r\n            提交\r\n           </Button>\r\n          </Form.Item>\r\n          </Form>\r\n         \r\n        </Wraper>\r\n    )\r\n})\r\nexport default Component;"],"names":["Wraper","styled","Title","layout","labelCol","span","wrapperCol","tailLayout","offset","Component","observer","AuthStore","useStores","history","useNavigate","name","onFinish","values","console","log","setUsername","username","setPassword","password","login","then","onFinishFailed","errorInfo","label","rules","required","message","validator","rule","value","test","Promise","reject","length","resolve","min","max","type","htmlType"],"sourceRoot":""}